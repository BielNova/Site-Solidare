<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Registrar Presença - {{ aula.data }} - {{ turma.nome }}</title>
    <!-- Adicionar links CSS se necessário -->
    <style>
        /* Estilos básicos para a tabela */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        /* Esconder o label padrão do formset */
        .formset-row label {
            display: none;
        }
    </style>
</head>
<body>
    <h1>Registrar Presença</h1>
    <h2>Turma: {{ turma.curso.nome }} - {{ turma.nome }}</h2>
    <h3>Aula: {{ aula.data }} {% if aula.topico %}- {{ aula.topico }}{% endif %}</h3>

    <form method="post">
        {% csrf_token %}
        {{ formset.management_form }}
        <table>
            <thead>
                <tr>
                    <th>Aluno</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
                {% for form in formset %}
                    <tr class="formset-row">
                        <td>
                            {{ form.instance.aluno_nome }}
                            {{ form.id }} {# Necessário para o formset #}
                        </td>
                        <td>{{ form.status }} {{ form.status.errors }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
        <br>
        <button type="submit">Salvar Presenças</button>
    </form>

    <br>
    <a href="{% url 'frequencia:detalhes_turma_professor' turma.id %}">Voltar para Detalhes da Turma</a>

</body>
</html>

